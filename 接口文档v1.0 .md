# 接口文档 V1.0

## 1. 通用接口

### 1.1 注册

#### 1.1.1 求职者注册

##### 1.1.1.1 基本信息
> 请求路径：/user/register/{name}/{email}/{phone}/{password}
>
> 请求方式：POST
>
> 接口描述：该接口用于求职者输入用户注册的必要信息


##### 1.1.1.2 请求参数
参数格式：路径参数

参数说明：

| 参数名 | 类型   | 是否必须 | 备注   |
| ------ | ------ | -------- | ------ |
| name     | byte[] | 必须     | 姓名 |
| email     | byte[] | 必须     | 邮箱 |
| phone     | byte[] | 必须     | 电话 |
| password     | byte[] | 必须     | 密码 |

请求参数样例：

```
localhost:8080/user/register/张三/test@qq.com/15988882346/123456
```

##### 响应数据
参数格式：application/json

参数说明：

| 参数名         | 类型   | 是否必须 | 备注                           |
| -------------- | ------ | -------- | ------------------------------ |
| code           | number | 必须     | 响应码，1 代表成功，0 代表失败 |
| msg            | string | 必须   | 提示信息                       |
| data           | object | 必须   | 返回的数据                     |
| \|- password         | byte[] | 必须   | 密码                             |
| \|- name       | byte[] | 必须   | 姓名                       |
| \|- mobile | byte[] | 必须   | 电话                       |
| \|- email | byte[] | 必须   | 邮箱                       |

响应数据样例：

```json
{
    "code": 1,
    "msg": "success",
    "data": {
        "password": "MTIzNDU2",
        "name": "5byg5LiJ",
        "mobile": "MTU5ODg4ODIzNDY=",
        "email": "dGVzdEBxcS5jb20="
    }
}
```

- 注：由于使用数据库加密，因此几个数据使用了byte[]存储，返回的json内容也有点奇怪

#### 1.1.2 招聘者注册

##### 1.1.2.1 基本信息
> 请求路径：/employer/register/{name}/{email}/{company}/{password}
>
> 请求方式：POST
>
> 接口描述：该接口用于招聘者输入用户注册的必要信息


##### 1.1.2.2 请求参数
参数格式：路径参数

参数说明：

| 参数名 | 类型   | 是否必须 | 备注   |
| ------ | ------ | -------- | ------ |
| name     | byte[] | 必须     | 姓名 |
| email     | byte[] | 必须     | 邮箱 |
| company     | string | 必须     | 公司名称 |
| password     | byte[] | 必须     | 密码 |

请求参数样例：

```
localhost:8080/employer/register/周尔强/qiangge@qq.com/电科编译研究所/123456
```

##### 响应数据
参数格式：application/json

参数说明：

| 参数名         | 类型   | 是否必须 | 备注                           |
| -------------- | ------ | -------- | ------------------------------ |
| code           | number | 必须     | 响应码，1 代表成功，0 代表失败 |
| msg            | string | 必须   | 提示信息                       |
| data           | object | 必须   | 返回的数据                     |
| \|- password         | byte[] | 必须   | 密码                             |
| \|- name       | byte[] | 必须   | 姓名                       |
| \|- company | string | 必须   | 公司名称                       |
| \|- email | byte[] | 必须   | 邮箱                       |

响应数据样例：

```json
{
    "code": 1,
    "msg": "success",
    "data": {
        "password": "MTIzNDU2",
        "name": "5ZGo5bCU5by6",
        "company": "电科编译研究所",
        "email": "cWlhbmdnZUBxcS5jb20="
    }
}
```

### 1.2 登录
- 说明：json中的data中的token问jwt令牌，type:0对应求职者，1对应招聘者

#### 基本信息
> 请求路径：/login/{phoneOrEmail}/{password}
>
> 请求方式：POST
>
> 接口描述：该接口用于输入用户登录的必要信息，系统自行判断用户身份

#### 请求参数
参数格式：路径参数

参数说明：

| 参数名 | 类型   | 是否必须 | 备注   |
| ------ | ------ | -------- | ------ |
| phoneOrEmail     | byte[] | 必须     | 账号信息 |
| password     | byte[] | 必须     | 密码 |


请求参数样例：
- 招聘者（针对注册时的操作只设置了邮箱方式，晚上才想起来可以编辑信息，很容易改）

```
localhost:8080/login/anlong@qq.com/123456
```
- 求职者
``````
localhost:8080/login/15904130130/580044
``````
``````
localhost:8080/login/test@qq.com/123456
``````

##### 响应数据
参数格式：application/json

参数说明：

| 参数名         | 类型   | 是否必须 | 备注                           |
| -------------- | ------ | -------- | ------------------------------ |
| code           | number | 必须     | 响应码，1 代表成功，0 代表失败 |
| msg            | string | 必须   | 提示信息                       |
| data           | object | 必须   | 返回的数据                     |
| \|- type         | int | 必须   | 求职者or招聘者                             |
| \|- jwt       | string | 必须   | 令牌                       |


响应数据样例：

```json
{
    "code": 1,
    "msg": "success",
    "data": {
        "type": 0,
        "token": "eyJhbGciOiJIUzI1NiJ9.eyJuYW1lIjoibGthMjFjdmVseGp0WnZWT1oyYk5EUT09IiwiaWQiOjE3NDk3OTM5MDExMDQ5ODgxNjAsImV4cCI6MTcwNjA2MjQ5M30.RI_qNpczFK5JmJrebOyIZpMMVNI1j4OBOa7DJmyUfHk"
    }
}
```

```json
{
    "code": 1,
    "msg": "success",
    "data": {
        "type": 1,
        "token": "eyJhbGciOiJIUzI1NiJ9.eyJuYW1lIjoiTUxOMkNENTR3M1d4TElwRDNnYXp3UT09IiwiaWQiOjEsImV4cCI6MTcwNjA2MDAxMH0.bywnECTc-W5Dgrm9oHeysQNGFLcmQqrBjRajSkKWjoE"
    }
}
```

- jwt令牌将监督后续用户的登录情况和时限，后续操作将全部基于登录